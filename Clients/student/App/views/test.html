<div class="container">
    <div>
            <div class="form-group">
                <ul data-bind="with: exercise">
                    <li>
                        <label class="control-label">
                            Exercise name:<input data-bind="value: Name" class="form-control input-md" autofocus="autofocus">
                        </label>
                        <label class="control-label">
                            Exercise description:<input data-bind="value: Description" class="form-control input-md">
                        </label>

                        <button id="section" name="singlebutton" class="btn btn-primary" data-bind="click:$root.addSection">Add section</button>

                    </li>
                    <li data-bind="visible: Sections().length > 0">
                        <ul class="section" data-bind="foreach: Sections">
                            <li>
                                <label class="control-label">
                                    Section <span data-bind="text:$index"></span> Name:
                                    <input data-bind="value: Name" class="form-control input-md">
                                </label>

                                <button id="problem" name="singlebutton" class="btn btn-primary" data-bind="click:$root.addProblem">Add Problem</button>
                                <button id="section" name="singlebutton" class="btn btn-primary" data-bind="click:$root.deleteSection">Delete section</button>
                            </li>
                            <li data-bind="visible: Problems().length > 0">
                                <ul class="problem" data-bind="foreach: Problems">
                                    <li>
                                        <label class="control-label">
                                            Problem <span data-bind="text:$parentContext.$index()+'_'+$index() "></span> Name:
                                            <input data-bind="value: GeneralInfo" class="form-control input-md">
                                        </label>
                                        <label class="control-label" for="audioinput">
                                            Audio File
                                            <input id="mp3file" name="audioinput" type="file" class="form-control input-md" data-bind="event: { change: function() { $root.uploadmedia($data, $element.files[0]) } }">
                                            <audio controls id='audio' />
                                        </label>
                                        <button id="quiz" name="singlebutton" class="btn btn-primary" data-bind="click:$root.addQuiz">Add Quiz</button>
                                        <button id="section" name="singlebutton" class="btn btn-primary" data-bind="click:$root.deleteProblem">Delete Problem</button>
                                    </li>
                                    <li data-bind="visible: Quizzes().length > 0">
                                        <ul class="quiz" data-bind="foreach: Quizzes">
                                            <li>
                                                <label class="control-label">Quiz <span data-bind="text:$parentContext.$parentContext.$index()+'_'+ $parentContext.$index() +'_'+ $index()"></span></label>
                                                <button id="section" name="singlebutton" class="btn btn-primary" data-bind="click:$root.deleteQuiz" style="margin-left:30px;">Delete Quiz</button>
                                                <label>
                                                    Quiz type: 
                                                    <select id='quiztype' class="form-control dropdown" data-observable="DepartmentId" data-bind="options: $root.quizTypes,
                                                                                                                                                optionsText: 'label',
                                                                                                                                                optionsValue: 'value',
                                                                                                                                                value: QuizType,
                                                                                                                                                optionsCaption: '请选择...'"></select>
                                                </label>
                                                <div data-bind="widget: { kind: $root.global.quiztypename($data.QuizType()), item: $data, isediting:true}"></div>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div id="buttons">
                <button id="quiz" name="singlebutton" class="btn btn-success" data-bind="click:upload">Upload</button>
                <button id="back" name="singlebutton" class="btn btn-success" data-bind="click:back">Back</button>
                <button id="new" name="singlebutton" class="btn btn-success" type="reset">Reset</button>
            </div>
    </div>
</div>
